%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
% Awesome CV LaTeX Template for CV/Resume
%
% This template has been downloaded from:
% https://github.com/posquit0/Awesome-CV
%
% Author:
% Claud D. Park <posquit0.bj@gmail.com>
% http://www.posquit0.com
%
% Template license:
% CC BY-SA 4.0 (https://creativecommons.org/licenses/by-sa/4.0/)
%


%-------------------------------------------------------------------------------
% CONFIGURATIONS
%-------------------------------------------------------------------------------
% A4 paper size by default, use 'letterpaper' for US letter
\documentclass[11pt, a4paper]{awesome-cv}

% Configure page margins with geometry
\geometry{left=1.4cm, top=.8cm, right=1.4cm, bottom=1.8cm, footskip=.5cm}

% Specify the location of the included fonts
\fontdir[fonts/]

% Color for highlights
% Awesome Colors: awesome-emerald, awesome-skyblue, awesome-red, awesome-pink, awesome-orange
%                 awesome-nephritis, awesome-concrete, awesome-darknight
\colorlet{awesome}{awesome-red}
% Uncomment if you would like to specify your own color
% \definecolor{awesome}{HTML}{CA63A8}

% Colors for text
% Uncomment if you would like to specify your own color
% \definecolor{darktext}{HTML}{414141}
% \definecolor{text}{HTML}{333333}
% \definecolor{graytext}{HTML}{5D5D5D}
% \definecolor{lighttext}{HTML}{999999}

% Set false if you don't want to highlight section with awesome color
\setbool{acvSectionColorHighlight}{true}

% If you would like to change the social information separator from a pipe (|) to something else
\renewcommand{\acvHeaderSocialSep}{\quad\textbar\quad}

% require luacode for lua coding
\usepackage{luacode}
\usepackage{pgffor}

\begin{document}
% read in JSON resume data
% build helper printer fns
% TODO: at some point refactor print calls to fn, not
%       sure why I can't get them working right now
\newcommand{\dataPath}{../../../dist/files}
\begin{luacode}
  require("lualibs.lua")
  local f = io.open('\dataPath/resume.json', 'r')
  local s = f:read('*a')
  f:close()
  resume =  utilities.json.tolua(s)
  contact = resume['contact']
\end{luacode}
%-------------------------------------------------------------------------------
%	PERSONAL INFORMATION
%	Comment any of the lines below if they are not required
%-------------------------------------------------------------------------------
% Available options: circle|rectangle,edge/noedge,left/right
\name
  {\directlua{tex.print(contact['firstName'])}}
  {\directlua{tex.print(contact['lastName'])}}
\position{\directlua{tex.print(contact['title'])}}
\address{\directlua{tex.print(contact['currentLocation'])}}
\mobile{\directlua{tex.print(contact['phone']['displayText'])}}
\email{\directlua{tex.print(contact['email']['displayText'])}}
\homepage{\directlua{tex.print(contact['site']['displayText'])}}
\github{\directlua{tex.print(contact['github']['displayText'])}}
\linkedin{\directlua{tex.print(contact['linkedin']['displayText'])}}
% \photo[rectangle,edge,right]{./examples/profile}
% \gitlab{gitlab-id}
% \stackoverflow{SO-id}{SO-name}
% \twitter{@twit}
% \skype{skype-id}
% \reddit{reddit-id}
% \medium{madium-id}
% \googlescholar{googlescholar-id}{name-to-display}
%% \firstname and \lastname will be used
% \googlescholar{googlescholar-id}{}
% \extrainfo{extra informations}
% \quote{``Be the change that you want to see in the world."}

%-------------------------------------------------------------------------------
% Print the header with above personal informations
% Give optional argument to change alignment(C: center, L: left, R: right)

\makecvheader[L]

% Print the footer with 3 arguments(<left>, <center>, <right>)
% Leave any of these blank if they are not needed
% \makecvfooter{}{}{}

%-------------------------------------------------------------------------------
%	CV/RESUME CONTENT
%	Each section is imported separately, open each file in turn to modify content
%-------------------------------------------------------------------------------
\input{resume/summary.tex}
\input{resume/experience.tex}
\input{resume/education.tex}

%-------------------------------------------------------------------------------
\end{document}
